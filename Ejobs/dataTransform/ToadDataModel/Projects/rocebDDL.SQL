/*
CREATED: 3/5/2015
MODIFIED: 3/8/2015
MODEL: ORACLE 12C
DATABASE: ORACLE 12C
*/




-- DROP SEQUENCES SECTION --------------------------------------------------- 

DROP SEQUENCE SQ_JOBADID
/

-- CREATE SEQUENCES SECTION -------------------------------------------------

CREATE SEQUENCE SQ_JOBADID
 INCREMENT BY 1
 START WITH 1
 NOMAXVALUE
 NOMINVALUE
 CACHE 20
/

-- CREATE TABLES SECTION -------------------------------------------------

-- TABLE T_COMPANY

CREATE TABLE T_COMPANY(
  COMPANYID INTEGER GENERATED ALWAYS AS IDENTITY(
    START WITH 1
    INCREMENT BY 1
    NOMAXVALUE
    NOMINVALUE
    CACHE 20) NOT NULL,
  COMPANYNAME VARCHAR2(50 ) NOT NULL,
  COMPANYDESCRIPTION CHAR(400 ),
  COUNTRYID INTEGER NOT NULL
)
/

-- ADD KEYS FOR TABLE T_COMPANY

ALTER TABLE T_COMPANY ADD CONSTRAINT PK_COMPANY PRIMARY KEY (COMPANYID,COUNTRYID)
/

-- TABLE T_COUNTRY

CREATE TABLE T_COUNTRY(
  COUNTRYID INTEGER NOT NULL,
  COUNTRYNAME VARCHAR2(50 ) NOT NULL,
  ISOCOUNTRYCODEA2 VARCHAR2(2 ),
  ISOCOUNTRYCODEA3 VARCHAR2(3 )
)
/

-- ADD KEYS FOR TABLE T_COUNTRY

ALTER TABLE T_COUNTRY ADD CONSTRAINT PK_COUNTRY PRIMARY KEY (COUNTRYID)
/

-- TABLE T_COUNTY

CREATE TABLE T_COUNTY(
  COUNTYID VARCHAR2(3 ) NOT NULL,
  COUNTYNAME VARCHAR2(30 ),
  COUNTRYID INTEGER NOT NULL,
  COUNTYCAPITAL VARCHAR2(25 )
)
/

-- ADD KEYS FOR TABLE T_COUNTY

ALTER TABLE T_COUNTY ADD CONSTRAINT PK_COUNTY PRIMARY KEY (COUNTYID,COUNTRYID)
/

-- TABLE T_JOBAD

CREATE TABLE T_JOBAD(
  JOBADID INTEGER NOT NULL,
  JODTITLE VARCHAR2(250 ),
  JOBADSTARDATE DATE,
  JOBADENDDATE DATE,
  JOBADPOSITIONSNR INTEGER,
  JOBADAPPLICANTSNR INTEGER,
  JOBADDESCRIPTION VARCHAR2(4000 ),
  ATTRIBUTE7 CHAR(20 ),
  COMPANYID INTEGER NOT NULL,
  COUNTRYID INTEGER NOT NULL
)
/

-- ADD KEYS FOR TABLE T_JOBAD

ALTER TABLE T_JOBAD ADD CONSTRAINT PK_JOBAD PRIMARY KEY (JOBADID,COMPANYID,COUNTRYID)
/

-- TABLE T_DEPARTMENTS

CREATE TABLE T_DEPARTMENTS(
  DEPARTMENTID INTEGER NOT NULL,
  DEPARTMENTNAME VARCHAR2(40 ),
  DEPARTMENTNAMEALT VARCHAR2(40 )
)
/

-- ADD KEYS FOR TABLE T_DEPARTMENTS

ALTER TABLE T_DEPARTMENTS ADD CONSTRAINT PK_DEPARTMENTS PRIMARY KEY (DEPARTMENTID)
/

-- TABLE T_ACTIVEJOBADSDEPARTMENTS

CREATE TABLE T_ACTIVEJOBADSDEPARTMENTS(
  JOBADID INTEGER NOT NULL,
  COMPANYID INTEGER NOT NULL,
  COUNTRYID INTEGER NOT NULL,
  DEPARTMENTID INTEGER NOT NULL
)
/

-- ADD KEYS FOR TABLE T_ACTIVEJOBADSDEPARTMENTS

ALTER TABLE T_ACTIVEJOBADSDEPARTMENTS ADD CONSTRAINT FK_ACTIVEJOBADSDEPARTMENTS PRIMARY KEY (JOBADID,COMPANYID,COUNTRYID,DEPARTMENTID)
/

-- TABLE T_INDUSTRY

CREATE TABLE T_INDUSTRY(
  INDUSTRYID INTEGER NOT NULL,
  INDUSTRYNAME VARCHAR2(40 ),
  INDUSTRYNAMEALT VARCHAR2(40 )
)
/

-- ADD KEYS FOR TABLE T_INDUSTRY

ALTER TABLE T_INDUSTRY ADD CONSTRAINT PK_INDUSTRY PRIMARY KEY (INDUSTRYID)
/

-- TABLE T_JOBADINDUSTRY

CREATE TABLE T_JOBADINDUSTRY(
  INDUSTRYID INTEGER NOT NULL,
  JOBADID INTEGER NOT NULL,
  COMPANYID INTEGER NOT NULL,
  COUNTRYID INTEGER NOT NULL
)
/

-- ADD KEYS FOR TABLE T_JOBADINDUSTRY

ALTER TABLE T_JOBADINDUSTRY ADD CONSTRAINT FK_JOBADINDUSTRY PRIMARY KEY (INDUSTRYID,JOBADID,COMPANYID,COUNTRYID)
/

-- TABLE T_JOBTYPE

CREATE TABLE T_JOBTYPE(
  JOBADTYPEID INTEGER NOT NULL,
  JOBADTYPENAME VARCHAR2(30 )
)
/

-- ADD KEYS FOR TABLE T_JOBTYPE

ALTER TABLE T_JOBTYPE ADD CONSTRAINT PK_JOBTYPE PRIMARY KEY (JOBADTYPEID)
/

-- TABLE T_CAREERLEVEL

CREATE TABLE T_CAREERLEVEL(
  CAREERLEVELID INTEGER NOT NULL,
  CAREERLEVELNAME VARCHAR2(30 ),
  CAREERLEVELNAMEALT VARCHAR2(30 )
)
/

-- ADD KEYS FOR TABLE T_CAREERLEVEL

ALTER TABLE T_CAREERLEVEL ADD CONSTRAINT PK_CARRERLEVEL PRIMARY KEY (CAREERLEVELID)
/

-- TABLE T_LANGUAGE

CREATE TABLE T_LANGUAGE(
  LANGUAGEID INTEGER NOT NULL,
  LANGUAGENAME VARCHAR2(30 ),
  LANGUAGENAMEALT VARCHAR2(30 )
)
/

-- ADD KEYS FOR TABLE T_LANGUAGE

ALTER TABLE T_LANGUAGE ADD CONSTRAINT PK_LANGUAGE PRIMARY KEY (LANGUAGEID)
/

-- TABLE T_CITY

CREATE TABLE T_CITY(
  CITYID INTEGER NOT NULL,
  CITYTYPE VARCHAR2(1 ),
  CITYNAME VARCHAR2(35 ),
  CITYNAMEALT VARCHAR2(30 ),
  PARENTCITYNAME VARCHAR2(35 ),
  COUNTYID VARCHAR2(3 ) NOT NULL,
  COUNTRYID INTEGER NOT NULL
)
/

-- ADD KEYS FOR TABLE T_CITY

ALTER TABLE T_CITY ADD CONSTRAINT PK_CITY PRIMARY KEY (CITYID,COUNTYID,COUNTRYID)
/

-- TABLE T_JOBADCAREERLEVEL

CREATE TABLE T_JOBADCAREERLEVEL(
  CAREERLEVELID INTEGER NOT NULL,
  JOBADID INTEGER NOT NULL,
  COMPANYID INTEGER NOT NULL,
  COUNTRYID INTEGER NOT NULL
)
/

-- ADD KEYS FOR TABLE T_JOBADCAREERLEVEL

ALTER TABLE T_JOBADCAREERLEVEL ADD CONSTRAINT FK_JOBADCAREERLEVEL PRIMARY KEY (CAREERLEVELID,JOBADID,COMPANYID,COUNTRYID)
/

-- TABLE T_DRIVERLICENCE

CREATE TABLE T_DRIVERLICENCE(
  DRIVERLICENCEID VARCHAR2(5 ) NOT NULL,
  DRIVERLICENCEDESCRIPTION VARCHAR2(350 ),
  DRIVERLICENCEDESCRIPTIONALT VARCHAR2(350 )
)
/

-- ADD KEYS FOR TABLE T_DRIVERLICENCE

ALTER TABLE T_DRIVERLICENCE ADD CONSTRAINT PK_DRIVERLICENCE PRIMARY KEY (DRIVERLICENCEID)
/

-- TABLE T_JOBADDRIVERLICENCE

CREATE TABLE T_JOBADDRIVERLICENCE(
  JOBADID INTEGER NOT NULL,
  COMPANYID INTEGER NOT NULL,
  COUNTRYID INTEGER NOT NULL,
  DRIVERLICENCEID VARCHAR2(5 ) NOT NULL
)
/

-- ADD KEYS FOR TABLE T_JOBADDRIVERLICENCE

ALTER TABLE T_JOBADDRIVERLICENCE ADD CONSTRAINT FK_JOBADDRIVERLICENCE PRIMARY KEY (JOBADID,COMPANYID,COUNTRYID,DRIVERLICENCEID)
/

-- TABLE T_JOBADCITY

CREATE TABLE T_JOBADCITY(
  JOBADID INTEGER NOT NULL,
  COMPANYID INTEGER NOT NULL,
  COUNTRYID INTEGER NOT NULL,
  CITYID INTEGER NOT NULL,
  COUNTYID VARCHAR2(3 ) NOT NULL
)
/

-- ADD KEYS FOR TABLE T_JOBADCITY

ALTER TABLE T_JOBADCITY ADD CONSTRAINT FK_JOBADCITY PRIMARY KEY (JOBADID,COMPANYID,COUNTRYID,CITYID,COUNTYID)
/

-- TABLE T_JOBADJOBTYPE

CREATE TABLE T_JOBADJOBTYPE(
  JOBADTYPEID INTEGER NOT NULL,
  JOBADID INTEGER NOT NULL,
  COMPANYID INTEGER NOT NULL,
  COUNTRYID INTEGER NOT NULL
)
/

-- ADD KEYS FOR TABLE T_JOBADJOBTYPE

ALTER TABLE T_JOBADJOBTYPE ADD CONSTRAINT FK_JOBADJOBTYPE PRIMARY KEY (JOBADTYPEID,JOBADID,COMPANYID,COUNTRYID)
/

-- TABLE T_JOBADLANGUAGE

CREATE TABLE T_JOBADLANGUAGE(
  LANGUAGEID INTEGER NOT NULL,
  JOBADID INTEGER NOT NULL,
  COMPANYID INTEGER NOT NULL,
  COUNTRYID INTEGER NOT NULL
)
/

-- ADD KEYS FOR TABLE T_JOBADLANGUAGE

ALTER TABLE T_JOBADLANGUAGE ADD CONSTRAINT FK_JOBADLANGUAGE PRIMARY KEY (LANGUAGEID,JOBADID,COMPANYID,COUNTRYID)
/

-- CREATE RELATIONSHIPS SECTION ------------------------------------------------- 

ALTER TABLE T_ACTIVEJOBADSDEPARTMENTS ADD CONSTRAINT JOBAD_TO_DEPARTMENTS FOREIGN KEY (JOBADID, COMPANYID, COUNTRYID) REFERENCES T_JOBAD (JOBADID, COMPANYID, COUNTRYID) ON DELETE CASCADE
/

ALTER TABLE T_JOBAD ADD CONSTRAINT JOBAD_TO_COMPANY FOREIGN KEY (COMPANYID, COUNTRYID) REFERENCES T_COMPANY (COMPANYID, COUNTRYID) ON DELETE CASCADE
/

ALTER TABLE T_JOBADINDUSTRY ADD CONSTRAINT INDUSTRY_TO_JOBADS FOREIGN KEY (INDUSTRYID) REFERENCES T_INDUSTRY (INDUSTRYID)
/

ALTER TABLE T_COUNTY ADD CONSTRAINT COUNTIES_TO_COUNTRY FOREIGN KEY (COUNTRYID) REFERENCES T_COUNTRY (COUNTRYID)
/

ALTER TABLE T_CITY ADD CONSTRAINT CITIES_TO_COUNTIES FOREIGN KEY (COUNTYID, COUNTRYID) REFERENCES T_COUNTY (COUNTYID, COUNTRYID)
/

ALTER TABLE T_COMPANY ADD CONSTRAINT COUNTRY_TO_COMPANIES FOREIGN KEY (COUNTRYID) REFERENCES T_COUNTRY (COUNTRYID)
/

ALTER TABLE T_JOBADINDUSTRY ADD CONSTRAINT JOBAD_TO_INDUSTRYIES FOREIGN KEY (JOBADID, COMPANYID, COUNTRYID) REFERENCES T_JOBAD (JOBADID, COMPANYID, COUNTRYID) ON DELETE CASCADE
/

ALTER TABLE T_ACTIVEJOBADSDEPARTMENTS ADD CONSTRAINT DEPARTMENT_TO_JOBADS FOREIGN KEY (DEPARTMENTID) REFERENCES T_DEPARTMENTS (DEPARTMENTID)
/

ALTER TABLE T_JOBADCAREERLEVEL ADD CONSTRAINT CAREERLEVEL_TO_JOBADS FOREIGN KEY (CAREERLEVELID) REFERENCES T_CAREERLEVEL (CAREERLEVELID)
/

ALTER TABLE T_JOBADCAREERLEVEL ADD CONSTRAINT JOBAD_TO_CARRERLEVELS FOREIGN KEY (JOBADID, COMPANYID, COUNTRYID) REFERENCES T_JOBAD (JOBADID, COMPANYID, COUNTRYID) ON DELETE CASCADE
/

ALTER TABLE T_JOBADDRIVERLICENCE ADD CONSTRAINT JOBAD_TO_DRIVERLICENCESSES FOREIGN KEY (JOBADID, COMPANYID, COUNTRYID) REFERENCES T_JOBAD (JOBADID, COMPANYID, COUNTRYID) ON DELETE CASCADE
/

ALTER TABLE T_JOBADDRIVERLICENCE ADD CONSTRAINT DRIVERLICENCE_TO_JOBADS FOREIGN KEY (DRIVERLICENCEID) REFERENCES T_DRIVERLICENCE (DRIVERLICENCEID)
/

ALTER TABLE T_JOBADCITY ADD CONSTRAINT JOBADS_TO_CITY FOREIGN KEY (JOBADID, COMPANYID, COUNTRYID) REFERENCES T_JOBAD (JOBADID, COMPANYID, COUNTRYID) ON DELETE CASCADE
/

ALTER TABLE T_JOBADCITY ADD CONSTRAINT CITIES_TO_JOBAD FOREIGN KEY (CITYID, COUNTYID, COUNTRYID) REFERENCES T_CITY (CITYID, COUNTYID, COUNTRYID)
/

ALTER TABLE T_JOBADJOBTYPE ADD CONSTRAINT JOBTYPE_TO_JOBADS FOREIGN KEY (JOBADTYPEID) REFERENCES T_JOBTYPE (JOBADTYPEID)
/

ALTER TABLE T_JOBADJOBTYPE ADD CONSTRAINT JOBADS_TO_JOBTYPE FOREIGN KEY (JOBADID, COMPANYID, COUNTRYID) REFERENCES T_JOBAD (JOBADID, COMPANYID, COUNTRYID) ON DELETE CASCADE
/

ALTER TABLE T_JOBADLANGUAGE ADD CONSTRAINT LANGUAGE_TO_JOBADS FOREIGN KEY (LANGUAGEID) REFERENCES T_LANGUAGE (LANGUAGEID)
/

ALTER TABLE T_JOBADLANGUAGE ADD CONSTRAINT JOBAD_TO_LANGUAGESSES FOREIGN KEY (JOBADID, COMPANYID, COUNTRYID) REFERENCES T_JOBAD (JOBADID, COMPANYID, COUNTRYID) ON DELETE CASCADE
/





